import{r,j as n,m as h}from"./index-Br6r75YF.js";import{B as S}from"./button-CMION8mZ.js";const w={navy:"#0B3E77",cream:"#EEEAD3",yellow:"#F3D35B",orange:"#EA924D",redOrange:"#F5543A"},d=15*60*1e3,c="stickyTimerEndAt";function b(i){const o=Math.max(0,Math.floor(i/1e3)),l=String(Math.floor(o/60)).padStart(2,"0"),s=String(o%60).padStart(2,"0");return`${l}:${s}`}const N=({onCTAClick:i})=>{const[o,l]=r.useState(!1),[s,x]=r.useState(null),[g,p]=r.useState(Date.now()),u=r.useRef(null);r.useEffect(()=>{var t;let e=null;if(typeof window<"u"){const a=window;"requestIdleCallback"in a?(t=a.requestIdleCallback)==null||t.call(a,()=>l(!0),{timeout:600}):e=a.setTimeout(()=>l(!0),600)}else e=setTimeout(()=>l(!0),600);return()=>{e&&clearTimeout(e)}},[]),r.useEffect(()=>{if(!o)return;const e=Date.now();let t;if(typeof window<"u"&&"localStorage"in window){const a=window.localStorage.getItem(c);if(a){const m=parseInt(a,10);Number.isFinite(m)&&m>e?t=m:(t=e+d,window.localStorage.setItem(c,String(t)))}else t=e+d,window.localStorage.setItem(c,String(t))}else t=e+d;x(t)},[o]),r.useEffect(()=>{if(!o||s==null)return;const e=window.setInterval(()=>{p(Date.now())},250);return u.current=e,()=>{u.current&&clearInterval(u.current)}},[o,s]);const f=r.useMemo(()=>s!=null?s-g:d,[s,g]);return r.useEffect(()=>{if(!(!o||s==null)&&f<=0){const t=Date.now()+d;typeof window<"u"&&"localStorage"in window&&window.localStorage.setItem(c,String(t)),x(t)}},[f,o,s]),!o||s==null?null:n.jsx(h.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 bg-card border-t-2 border-primary shadow-2xl z-50 md:hidden",children:n.jsx("div",{className:"container mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"leading-tight",children:[n.jsxs("p",{className:"font-montserrat font-extrabold text-2xl text-[#A43920]",children:["₹99"," ",n.jsx("span",{className:"ml-2 align-middle text-lg text-muted-foreground line-through",children:"₹299"})]}),n.jsxs("p",{className:"text-sm font-semibold text-[#A43920]",children:["Offer ends in"," ",n.jsx("span",{className:"inline-block rounded-md bg-[#A43920]/10 px-2 py-[2px] font-mono",children:b(f)})]})]})}),n.jsxs(S,{onClick:()=>{if(typeof window<"u"){const e=window;e.fbq&&e.fbq("track","AddToCart",{value:99,currency:"INR",content_ids:["ai-trading-workshop"]}),window.open("https://rzp.io/rzp/DBp63xai","_self")}i==null||i()},size:"lg",className:"text-black font-montserrat font-bold rounded-full shadow-lg px-6",style:{background:`linear-gradient(90deg, ${w.yellow}, ${w.orange})`,border:`1px solid ${w.orange}`},children:["Register For Just ₹99"," ",n.jsx("span",{className:"ml-2 text-sm opacity-70 line-through",children:"₹299"})]})]})})})};export{N as default};
