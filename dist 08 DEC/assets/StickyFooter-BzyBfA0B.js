import{r as s,j as r,i as b,k as v,S as y,m as S}from"./index-DyRhyjgO.js";const E=v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=s.forwardRef(({className:a,variant:n,size:d,asChild:o=!1,...c},u)=>{const m=o?y:"button";return r.jsx(m,{className:b(E({variant:n,size:d,className:a})),ref:u,...c})});h.displayName="Button";const x={navy:"#0B3E77",cream:"#EEEAD3",yellow:"#F3D35B",orange:"#EA924D",redOrange:"#F5543A"},l=15*60*1e3,f="stickyTimerEndAt";function N(a){const n=Math.max(0,Math.floor(a/1e3)),d=String(Math.floor(n/60)).padStart(2,"0"),o=String(n%60).padStart(2,"0");return`${d}:${o}`}const I=({onCTAClick:a})=>{const[n,d]=s.useState(!1),[o,c]=s.useState(null),[u,m]=s.useState(Date.now()),g=s.useRef(null);s.useEffect(()=>{var t;let e=null;if(typeof window<"u"){const i=window;"requestIdleCallback"in i?(t=i.requestIdleCallback)==null||t.call(i,()=>d(!0),{timeout:600}):e=i.setTimeout(()=>d(!0),600)}else e=setTimeout(()=>d(!0),600);return()=>{e&&clearTimeout(e)}},[]),s.useEffect(()=>{if(!n)return;const e=Date.now();let t;if(typeof window<"u"&&"localStorage"in window){const i=window.localStorage.getItem(f);if(i){const w=parseInt(i,10);Number.isFinite(w)&&w>e?t=w:(t=e+l,window.localStorage.setItem(f,String(t)))}else t=e+l,window.localStorage.setItem(f,String(t))}else t=e+l;c(t)},[n]),s.useEffect(()=>{if(!n||o==null)return;const e=window.setInterval(()=>{m(Date.now())},250);return g.current=e,()=>{g.current&&clearInterval(g.current)}},[n,o]);const p=s.useMemo(()=>o!=null?o-u:l,[o,u]);return s.useEffect(()=>{if(!(!n||o==null)&&p<=0){const t=Date.now()+l;typeof window<"u"&&"localStorage"in window&&window.localStorage.setItem(f,String(t)),c(t)}},[p,n,o]),!n||o==null?null:r.jsx(S.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 bg-card border-t-2 border-primary shadow-2xl z-50 md:hidden",children:r.jsx("div",{className:"container mx-auto px-4 py-4",children:r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"leading-tight",children:[r.jsxs("p",{className:"font-montserrat font-extrabold text-2xl text-[#A43920]",children:["₹99"," ",r.jsx("span",{className:"ml-2 align-middle text-lg text-muted-foreground line-through",children:"₹299"})]}),r.jsxs("p",{className:"text-sm font-semibold text-[#A43920]",children:["Offer ends in"," ",r.jsx("span",{className:"inline-block rounded-md bg-[#A43920]/10 px-2 py-[2px] font-mono",children:N(p)})]})]})}),r.jsxs(h,{onClick:()=>{if(typeof window<"u"){const e=window;e.fbq&&e.fbq("track","AddToCart",{value:99,currency:"INR",content_ids:["ai-trading-workshop"]}),window.open("https://rzp.io/rzp/DBp63xai","_self")}a==null||a()},size:"lg",className:"text-black font-montserrat font-bold rounded-full shadow-lg px-6",style:{background:`linear-gradient(90deg, ${x.yellow}, ${x.orange})`,border:`1px solid ${x.orange}`},children:["Register For Just ₹99"," ",r.jsx("span",{className:"ml-2 text-sm opacity-70 line-through",children:"₹299"})]})]})})})};export{I as default};
